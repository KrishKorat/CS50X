{% extends "layout.html" %}

{% block body %}

<div class="row navbarr">
    <div class="col-lg-3">
        <h1 class="mb-5 text-center">ðŸ“š Book Shelf</h1>
    </div>
    <div class="col-lg-1"></div>

    <!-- Search bar -->
    <div class="col-lg-6 mt-2">
        <form action="/" method="GET">
            <div class="d-flex">

                <input type="text" name="search" placeholder="Enter book to search" class="form-control me-2" value="{{ search_query }}">
                <button type="submit" class="btn btn-primary me-2">Search</button>
                <a href="/" class="btn btn-secondary">Clear</a>
            </div>
        </form>
    </div>
</div>



    <!-- Btn to add book -->
    <a href="/add" class="btn btn-success mb-3">Add book</a>



    <!-- Table to display books -->

{% if books %}
    <table class="table table-striped">
        <thead>
            <th>ID</th>
            <th>Title</th>
            <th>Author</th>
            <th>Category</th>
            <th>Action</th>
        </thead>

        <tbody>
            {% for book in books %}

            <tr>
                <td>{{ book[0] }}</td>  <!-- id -->
                <td>{{ book[1] }}</td>  <!-- Title -->
                <td>{{ book[2] }}</td>  <!-- Author -->
                <td>{{ book[3] }}</td>  <!-- Category -->
                <td>
                    <!-- Edit -->
                    <a href="/edit/{{ book[0] }}" class="btn btn-warning btn-sm">Edit</a>
                    <!-- Delete -->
                    <a href="/delete/{{ book[0] }}" class="btn btn-danger btn-sm">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <div class="alert alert-info">No books found.</div>
{% endif %}


{% endblock %}